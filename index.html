<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TMASCI Labs</title>
    <style>
      /* Global Styles */
      body {
        margin: 0;
        background-color: #3e3636;
        font-family: 'Proxima Nova', sans-serif;
        line-height: 1.8;
        letter-spacing: 0.8px;
        color: #f5eded;
      }
      html {
        scroll-behavior: smooth;
      }
      /* Fullscreen canvas for the 3D animation (logo) */
      canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 10;
        pointer-events: auto; /* allow clicking */
      }
      /* Navigation Menu fixed at the top (occupies 37.5vh) */
      header {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        height: 37.5vh;
        z-index: 20;
        padding: 1vh 2vw;
        box-sizing: border-box;
        /* No background so STL logo remains visible */
        opacity: 0;
        transition: opacity 0.5s ease-in;
      }
      header nav ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: flex-end;
        gap: 2vw;
      }
      /* Brighter navigation links in bright red (#FF0000) */
      header nav ul li a {
        color: #FF0000;
        text-decoration: none;
        font-weight: bold;
        font-size: 1.5em;
      }
      header nav ul li a:hover {
        text-decoration: underline;
      }
      /* Content Container – starts below the nav bar */
      #content {
        position: relative;
        z-index: 5;
        padding-top: calc(37.5vh + 2vh);
        padding-left: 5vw;
        padding-right: 5vw;
        opacity: 0;
        transition: opacity 0.5s ease-in;
      }
      /* Increase vertical spacing between sections */
      #content section {
        display: none;
        margin-bottom: 12vh;
      }
      #content section.active {
        display: block;
      }
      /* Move the first section upward slightly */
      #home {
        margin-top: -2vh;
      }
      /* ---------- Home Page Specific Styles ---------- */
      /* Left block: occupies leftmost 2/3 of the window, 4em font */
      .home-left {
        width: 66.67%;
        font-size: 4em;
        color: white;
        line-height: 1.2;
        padding-left: 3vw;
        margin-bottom: 3vh;
      }
      .home-left .line {
        margin: 0;
      }
      .home-left .line3 {
        margin-top: 1vh;
      }
      /* For capitalized words, only the first letter is red */
      .capitalized::first-letter {
        color: red;
      }
      .rest {
        color: white;
      }
      /* Right block: occupies right half, stacked below left block, 2.5em font */
      .home-right {
        width: 50%;
        margin-left: 50%;
        font-size: 2.5em;
        color: lightgrey;
        text-align: left;
        line-height: 1.4;
        margin-top: 3vh;
        margin-bottom: 6vh;
      }
      /* Red wireframe link in right block */
      .wireframe-link {
        display: inline-block;
        border: 0.2vh solid red;
        padding: 1vh 1vw;
        text-decoration: none;
        color: red;
        margin-top: 1vh;
        font-size: 1em;
      }
      /* Full-width statement with centered text */
      .home-full {
        font-size: 4em;
        text-align: center;
        margin: 8vh 0;
      }
      /* Subsection paragraphs (limited to 62.5vw) */
      .home-subsection {
        font-size: 2.5em;
        color: lightgrey;
        max-width: 62.5vw;
        text-align: left;
        margin-bottom: 6vh;
      }
      /* Two side-by-side links in red wireframe boxes */
      .home-links {
        display: flex;
        gap: 2vw;
        max-width: 62.5vw;
      }
      .home-links a {
        flex: 1;
        text-align: center;
        border: 0.2vh solid red;
        padding: 1vh 1vw;
        text-decoration: none;
        color: red;
        font-size: 1em;
      }
      /* ---------- Business Model Page Styles (unchanged) ---------- */
      .business-container {
        display: flex;
        justify-content: space-around;
        margin-top: 2vh;
      }
      .card {
        flex: 1;
        margin: 1vh;
        background-color: #3e3636;
        padding: 2vh 2vw;
        border-radius: 1vh;
        text-align: center;
        cursor: pointer;
        transition: flex 0.3s ease, transform 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      .card:hover {
        flex: 3;
        transform: scale(1.05);
      }
      .card h3 {
        color: red;
        margin: 0;
        padding-bottom: 1vh;
        border-bottom: 0.2vh solid #D72323;
      }
      .card li {
        color: white;
      }
      .subsections {
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: opacity 0.3s ease, max-height 0.3s ease;
        margin-top: 1vh;
      }
      .card:hover .subsections {
        opacity: 1;
        max-height: 50vh;
      }
      .subsections ul {
        list-style: none;
        padding: 0;
        margin: 1vh 0 0 0;
      }
      .subsections li {
        margin: 0.5vh 0;
        position: relative;
      }
      .item-description {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, opacity 0.3s ease;
        margin-top: 0.5vh;
        font-size: 0.9em;
        color: lightgrey;
      }
      .list-item:hover .item-description {
        max-height: 10vh;
        opacity: 1;
      }
      /* ---------- Methods Page Styling ---------- */
      .methods-heading {
        color: red;
        font-size: 4em;
        margin-bottom: 1vh;
      }
      .methods-subheading {
        color: white;
        font-size: 2.5em;
        margin-bottom: 1vh;
      }
      .methods-content {
        color: grey;
        font-size: 1.5em;
        line-height: 1.4;
        margin-bottom: 2vh;
      }
    </style>
  </head>
  <body>
    <!-- Canvas for the 3D logo animation -->
    <canvas id="bg"></canvas>
    <!-- Navigation Menu -->
    <header>
      <nav>
        <ul>
          <li><a href="#" data-section="home">Home</a></li>
          <li><a href="#" data-section="methods">Methods</a></li>
          <li><a href="#" data-section="student-research">Student Research</a></li>
          <li><a href="#" data-section="business-model">Business Model</a></li>
          <li><a href="#" data-section="contact">Contact Us</a></li>
        </ul>
      </nav>
    </header>
    <!-- Content Sections -->
    <div id="content">
      <!-- Home Page -->
      <section id="home" class="active">
        <!-- First block: leftmost 2/3 -->
        <div class="home-left">
          <div class="line">TMASCI Lab conducts research in the</div>
          <div class="line">Arts &amp; Humanities at Berkeley using</div>
          <div class="line line3">
            <span class="capitalized">T<span class="rest">echnical</span></span>
            <span class="capitalized">M<span class="rest">ethods</span></span>
            and
            <span class="capitalized">A<span class="rest">lternative</span></span>
            <span class="capitalized">S<span class="rest">cholarship</span></span>
            for
            <span class="capitalized">C<span class="rest">ritical</span></span>
            <span class="capitalized">I<span class="rest">nquiry</span></span>.
          </div>
        </div>
        <!-- Second block: right half, stacked below the first block -->
        <div class="home-right">
          Ours is a new methodology for academic<br>
          discourse in the Arts &amp; Humanities,<br>
          integrating STEM Practices and Alternative<br>
          Thesis work concerning Radical Traditions<br>
          of Philosophical Critique.<br><br>
          <a class="wireframe-link" href="#" data-section="methods">
            Learn more about our <strong>Methods</strong> →
          </a>
        </div>
        <!-- Full-width statement -->
        <div class="home-full">
          We started TMASCI to support the Arts &amp; Humanities in today's rapidly changing technological and economic landscape.
        </div>
        <!-- Subsection paragraphs -->
        <div class="home-subsection">
          <p>
            Presently, governmental funding has grown unstable, and public access to AI has changed modern students' needs and abilities. While the Humanities are adapting to this changing climate, valuable traditions of deep study in the Humanities are at risk of falling to the wayside.
          </p>
          <p>
            TMASCI exists to extend financial support to the Arts &amp; Humanities at the University and to train students early in their careers in both technical proficiency and deep critical research through our Academic Partnerships.
          </p>
        </div>
        <!-- Two side-by-side links -->
        <div class="home-links">
          <a href="#" data-section="business-model">
            Learn more about our<br>
            Business and Financial Model →
          </a>
          <a href="#" data-section="student-research">
            Learn more about how<br>
            we support Students at the University →
          </a>
        </div>
      </section>
      <!-- Methods Page -->
      <section id="methods">
        <h2 class="methods-heading">The Nature of TMASCI Research</h2>
        <h3 class="methods-subheading">What is an ASRP?</h3>
        <p class="methods-content">
          TMASCI Lab conducts Alternative Scholarship Research Projects (ASRPs). A team of student researchers collaborates to conduct research and develop alternative thesis work. This means research may take the form of a VR program, an installation, or a performance piece, rather than culminating in a plain text essay.
        </p>
        <p class="methods-content">
          The challenge of this creative, and often messy, component of research drives the originality and rigor of the work. It allows our researchers to wrestle with topics that are often inarticulable. At TMASCI, we believe it’s not just what you’re saying, but how you’re saying it that really matters. As such, we consider our research and development methods as performative in our approach.
        </p>
        <h3 class="methods-subheading">How are ASRPs conducted?</h3>
        <p class="methods-content">
          Each ASRP team is managed by a Project Lead Team Member in collaboration with a TMASCI Case Manager. Case Managers act as a liaison between the lab’s PI (Principal Investigator) and the research team. Case Managers have the additional support of a TMASCI employed ASRP Subcommittee.
        </p>
        <p class="methods-content">
          Through all this involvement, the collaborative spirit of ASRPs can come through. Different people in the network of an ASRP bring different areas of expertise to the project as it matures. This collaboration opens the door for training student researchers in different aspects of project completion.
        </p>
        <p class="methods-content">
          Through the development of the alternative scholarship portion of the research, students get hands on experience developing technical skills. For example, students who have little to no programming experience might find themselves working on a project that has a software component, opening the door for them to learn Computer Science principles from TMASCI training and collaboration with their project teammates.
        </p>
        <h2 class="methods-heading">Low Residency</h2>
        <h3 class="methods-subheading">Why Low Residency?</h3>
        <p class="methods-content">
          TMASCI Operates on the Low Residency model, which is basically research done as remote work. There is no brick &amp; mortar TMASCI Lab on campus, but rather a body of researchers who collaborate remotely or in person. This allows us to collaborate more effectively, as well as cuts costs.
        </p>
        <h3 class="methods-subheading">On Campus Academic Partnership</h3>
        <p class="methods-content">
          For aspects of research and development which require computing, recording, performing, fabricating, or hosting facilities, we turn to centers at the University capable of facilitating our researchers’ work.
        </p>
        <p class="methods-content">
          Through this aspect of our Academic Partnership with the University, we make use of services at the University that are often underutilized, and simultaneously pump funding back into the staff and facilities which support our research. As such, TMASCI serves as infrastructure for routing funds from our Industry Connections to underfunded staff and programs at the University.
        </p>
      </section>
      <!-- Student Research Page -->
      <section id="student-research">
        <h1>Student Research</h1>
        <h3>We Provide Arts &amp; Humanities Students with…</h3>
        <ul>
          <li>Research opportunities in Critical Inquiry</li>
          <li>Rigorous training in using technical methods and alternative scholarship to complete thesis work</li>
          <li>Organizational support from project planning all the way through R&amp;D and documentation</li>
          <li>Publication and career opportunities through our services and our network</li>
        </ul>
      </section>
      <!-- Business Model Page -->
      <section id="business-model">
        <h1>Business Model</h1>
        <p>here's our business model:</p>
        <div class="business-container">
          <!-- University Card -->
          <div class="card" id="university">
            <h3>University</h3>
            <div class="subsections">
              <ul>
                <li class="list-item">
                  Staff
                  <div class="item-description">
                    Description for Staff: Provides academic support and expertise.
                  </div>
                </li>
                <li class="list-item">
                  Facilities
                  <div class="item-description">
                    Description for Facilities: Includes labs, libraries, and study areas.
                  </div>
                </li>
                <li class="list-item">
                  Administration
                  <div class="item-description">
                    Description for Administration: Manages day-to-day operations.
                  </div>
                </li>
                <li class="list-item">
                  Students
                  <div class="item-description">
                    Description for Students: Engaged in research and learning activities.
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <!-- Research Institute Card -->
          <div class="card" id="research-institute">
            <h3>Research Institute</h3>
            <div class="subsections">
              <ul>
                <li class="list-item">
                  PI
                  <div class="item-description">
                    Description for PI: Principal Investigator leading research projects.
                  </div>
                </li>
                <li class="list-item">
                  Student Administration
                  <div class="item-description">
                    Description for Student Administration: Coordinates student involvement.
                  </div>
                </li>
                <li class="list-item">
                  Research Associates
                  <div class="item-description">
                    Description for Research Associates: Experts collaborating on projects.
                  </div>
                </li>
                <li class="list-item">
                  ASRPs
                  <div class="item-description">
                    Description for ASRPs: Assistant researchers supporting research efforts.
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <!-- 501c3 Card -->
          <div class="card" id="501c3">
            <h3>501c3</h3>
            <div class="subsections">
              <ul>
                <li class="list-item">
                  Board of Directors
                  <div class="item-description">
                    Description for Board of Directors: Oversees the organization's strategic direction.
                  </div>
                </li>
                <li class="list-item">
                  Advisory Board
                  <div class="item-description">
                    Description for Advisory Board: Provides expert guidance and advice.
                  </div>
                </li>
                <li class="list-item">
                  Industrial Advisory Board
                  <div class="item-description">
                    Description for Industrial Advisory Board: Connects industry insights.
                  </div>
                </li>
                <li class="list-item">
                  Academic Advisory Board
                  <div class="item-description">
                    Description for Academic Advisory Board: Ensures academic rigor and relevance.
                  </div>
                </li>
                <li class="list-item">
                  Review Board
                  <div class="item-description">
                    Description for Review Board: Evaluates proposals and research outcomes.
                  </div>
                </li>
                <li class="list-item">
                  Publication Committee
                  <div class="item-description">
                    Description for Publication Committee: Manages publications and dissemination.
                  </div>
                </li>
                <li class="list-item">
                  ASRP Management Committee
                  <div class="item-description">
                    Description for ASRP Management Committee: Oversees assistant researcher programs.
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      <!-- Contact Us Page -->
      <section id="contact">
        <h1>Contact Us</h1>
        <p>email us at tmascilab@gmail.com</p>
      </section>
    </div>
    <!-- JavaScript for Animation, Navigation, Scroll-Clip, and Logo Click -->
    <script type="module">
      import * as THREE from 'https://unpkg.com/three@0.152.0/build/three.module.js?module';
      import { STLLoader } from 'https://unpkg.com/three@0.152.0/examples/jsm/loaders/STLLoader.js?module';

      // --- Three.js Animation Setup ---
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.z = 30;
      const renderer = new THREE.WebGLRenderer({
        canvas: document.querySelector('#bg'),
        alpha: true
      });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000000, 0); // transparent background

      // --- Background Shader Scene ---
      const bgScene = new THREE.Scene();
      const bgCamera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
      const bgVertexShader = `
        varying vec2 vUv;
        void main(){
          vUv = uv;
          gl_Position = vec4(position, 1.0);
        }
      `;
      const bgFragmentShader = `
        uniform int uMode;
        uniform vec3 uUniformColor;
        varying vec2 vUv;
        void main(){
          if(uMode == 1){
            gl_FragColor = vec4(uUniformColor, 1.0);
          } else {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
          }
        }
      `;
      const bgUniforms = {
        uMode: { value: 1 },
        uUniformColor: { value: new THREE.Color(0x000000) }
      };
      const bgMaterial = new THREE.ShaderMaterial({
        vertexShader: bgVertexShader,
        fragmentShader: bgFragmentShader,
        uniforms: bgUniforms,
        depthTest: false,
        depthWrite: false
      });
      const bgGeometry = new THREE.PlaneGeometry(2, 2);
      const bgMesh = new THREE.Mesh(bgGeometry, bgMaterial);
      bgScene.add(bgMesh);

      // --- Determine Logo Placement ---
      const d = camera.position.z;
      const viewHeight = 2 * d * Math.tan(THREE.MathUtils.degToRad(camera.fov / 2));
      const viewWidth = viewHeight * camera.aspect;
      const topLeftX = -viewWidth / 2;
      const topLeftY = viewHeight / 2;
      const finalLandingX = topLeftX + viewWidth / 16;
      const finalLandingY = topLeftY - viewHeight / 20;

      // --- Animation Durations (ms) ---
      const phase0Duration = 1000;
      const phase1Duration = 950;
      const phase2Duration = 800;
      const phase3Duration = 800;
      const totalDuration = phase0Duration + phase1Duration + phase2Duration + phase3Duration;

      // --- Z-Axis Settings ---
      const initialGroupZ = 8;
      const initialLightZ = 12;
      const finalLightZ = 10;

      // --- Point Light ---
      const pointLight = new THREE.PointLight(0xffffff, 1.75);
      const lightY = topLeftY - viewHeight / 7.5;
      pointLight.position.set(topLeftX, lightY, initialLightZ);
      scene.add(pointLight);

      // --- Scaling Factors for the Logo ---
      const referenceWidth = 10000;
      const S_center = (2 / 3 * window.innerWidth) / referenceWidth;
      const S_final = (1 / 12 * window.innerWidth) / referenceWidth;
      const groupScaleAtCenter = S_center / 0.0002;
      const groupScaleAtFinal = S_final / 0.0002;

      // --- Create STL Logo Group ---
      const stlGroup = new THREE.Group();
      scene.add(stlGroup);
      stlGroup.position.set(-viewWidth, 0, initialGroupZ);
      stlGroup.rotation.y = -Math.PI / 2;
      stlGroup.scale.set(groupScaleAtCenter, groupScaleAtCenter, groupScaleAtCenter);

      const loader = new STLLoader();
      loader.load('models/TMASCi.stl', geometry => {
        const material = new THREE.MeshStandardMaterial({ color: 0x000000 });
        const mesh = new THREE.Mesh(geometry, material);
        mesh.scale.set(0.0001, 0.0001, 0.0001);
        stlGroup.add(mesh);
      });
      loader.load('models/TMASCi_dot.stl', geometry => {
        const material = new THREE.MeshStandardMaterial({ color: 0xff0000 });
        const mesh = new THREE.Mesh(geometry, material);
        mesh.scale.set(0.0001, 0.0001, 0.0001);
        stlGroup.add(mesh);
      });

      // --- Helper for Linear Interpolation ---
      const lerp = (a, b, t) => a + (b - a) * t;
      let startTime = null;
      let animationCompleted = false;
      function animate(timestamp) {
        if (!startTime) startTime = timestamp;
        const elapsed = timestamp - startTime;

        if (elapsed < totalDuration) {
          if (elapsed < phase0Duration) {
            bgUniforms.uMode.value = 1;
            bgUniforms.uUniformColor.value.set(0x000000);
          } else if (elapsed < phase0Duration + phase1Duration) {
            const t = (elapsed - phase0Duration) / phase1Duration;
            const colVal = lerp(0.0, 0.329, t);
            bgUniforms.uUniformColor.value.setRGB(colVal, colVal, colVal);
          }
          if (elapsed < phase0Duration) {
            // Logo remains off-screen
          } else if (elapsed < phase0Duration + phase1Duration) {
            const t = (elapsed - phase0Duration) / phase1Duration;
            stlGroup.position.x = lerp(-viewWidth, 0, t);
            stlGroup.position.z = lerp(initialGroupZ, 0, t);
            stlGroup.rotation.y = lerp(-Math.PI / 2, 0, t);
          } else if (elapsed < phase0Duration + phase1Duration + phase2Duration) {
            stlGroup.position.set(0, 0, 0);
            stlGroup.rotation.y = 0;
            stlGroup.scale.set(groupScaleAtCenter, groupScaleAtCenter, groupScaleAtCenter);
          } else if (elapsed < totalDuration) {
            const t = (elapsed - phase0Duration - phase1Duration - phase2Duration) / phase3Duration;
            stlGroup.position.x = lerp(0, finalLandingX, t);
            stlGroup.position.y = lerp(0, finalLandingY, t);
            stlGroup.position.z = 0;
            const groupScale = lerp(groupScaleAtCenter, groupScaleAtFinal, t);
            stlGroup.scale.set(groupScale, groupScale, groupScale);
            pointLight.position.z = lerp(initialLightZ, finalLightZ, t);
          }
          renderer.clear();
          renderer.render(bgScene, bgCamera);
          renderer.render(scene, camera);
        } else {
          if (!animationCompleted) {
            animationCompleted = true;
            document.getElementById('content').style.opacity = '1';
            document.querySelector('header').style.opacity = '1';
          }
          renderer.setClearColor(0x000000, 0);
          renderer.clear();
          renderer.render(scene, camera);
        }
        requestAnimationFrame(animate);
      }
      requestAnimationFrame(animate);

      // --- Scroll-Clip Effect ---
      window.addEventListener('scroll', () => {
        // New threshold: 1/8th (12.5%) of the viewport height
        const threshold = window.innerHeight / 8;
        const content = document.getElementById('content');
        const rect = content.getBoundingClientRect();
        if (rect.top < threshold) {
          content.style.clipPath = `inset(${threshold - rect.top}px 0 0 0)`;
        } else {
          content.style.clipPath = 'none';
        }
      });

      // --- Navigation Content Switching ---
      const navLinks = document.querySelectorAll(
        'header nav ul li a, .wireframe-link, .home-links a'
      );
      navLinks.forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          const targetSection = link.getAttribute('data-section');
          if (targetSection) {
            document.querySelectorAll('#content section').forEach(sec => {
              sec.classList.remove('active');
            });
            document.getElementById(targetSection).classList.add('active');
          }
        });
      });

      // --- Click on STL Logo to Scroll to Top ---
      document.querySelector('#bg').addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    </script>
  </body>
</html>
